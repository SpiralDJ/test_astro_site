---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

type Page = CollectionEntry<"pages">;

export async function getStaticPaths() {
  const docs = await getCollection("pages") as Page[];
  return docs.map((p: Page) => ({
    // pass a STRING for `[...slug]` â€” e.g. "about/team"
    params: { slug: p.slug },
    props: { page: p },
  }));
}

const { page } = Astro.props as { page: Page };
const { Content, data } = await page.render();
---
<Layout title={data.title}>
  <Content />
</Layout>
